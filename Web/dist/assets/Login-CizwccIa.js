import{_ as h,r as b,a as y,c as F,b as g,d as s,w as a,o as B,u as _,e as k,f as d,p as I,g as q,h as r,i as L}from"./index-B3UucCy0.js";import{F as U,q as C,a as N,I as S,_ as V,b as K,B as O,L as R}from"./index-BPTSMDv6.js";import"./index-CrBoXpJt.js";import{U as E}from"./UserOutlined-C_2rWOZr.js";import"./Col-v87KSPMz.js";const T=o=>(I("data-v-140fa6bc"),o=o(),q(),o),j={class:"container"},z={class:"loginBox"},A=T(()=>g("p",null,"登录",-1)),D={__name:"Login",setup(o){const t=b({name:"",passwd:""}),i=y(""),f={name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:4,max:12,message:"用户名必须在4到12个字符之间",trigger:"blur"}],passwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:4,max:20,message:"密码必须在4到20个字符之间",trigger:"blur"}]},m=()=>{let c=C.stringify({name:t.name,passwd:t.passwd});i.value.validateFields().then(()=>N.post("api/manage/account.login",c)).then(e=>{const n=e.data;if(n.status!=0){r.error(n.msg);return}r.success("登录成功"),L.push({path:"/index"})}).catch(e=>{e&&e.message?r.error(e.message):r.error("发生错误，请重试")})},v=()=>{i.value.resetFields()};return(c,e)=>{const n=S,p=V,x=K,u=O,w=U;return B(),F("div",j,[g("div",z,[A,s(w,{ref_key:"loginFormRef",ref:i,model:t,rules:f,class:"loginForm"},{default:a(()=>[s(p,{name:"name"},{default:a(()=>[s(n,{value:t.name,"onUpdate:value":e[0]||(e[0]=l=>t.name=l),placeholder:"请输入用户名"},{prefix:a(()=>[s(_(E))]),_:1},8,["value"])]),_:1}),s(p,{name:"passwd"},{default:a(()=>[s(x,{value:t.passwd,"onUpdate:value":e[1]||(e[1]=l=>t.passwd=l),placeholder:"请输入密码",type:"password",onKeyup:k(m,["enter"])},{prefix:a(()=>[s(_(R))]),_:1},8,["value"])]),_:1}),s(p,{class:"loginBtn"},{default:a(()=>[s(u,{type:"primary",style:{margin:"10px"},onClick:m},{default:a(()=>[d("登录")]),_:1}),s(u,{style:{margin:"10px"},onClick:v},{default:a(()=>[d("重置")]),_:1})]),_:1})]),_:1},8,["model"])])])}}},Q=h(D,[["__scopeId","data-v-140fa6bc"]]);export{Q as default};
